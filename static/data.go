// Generated by "go run gen.go". DO NOT EDIT.

package static

var fs = embeddedFilesystem{
	"/frontend/css/bebop.css":              &fileData{name: "bebop.css", mtime: 1493925590, size: 3926, body: []byte("body { padding-top: 55px; font-family: Arial, Helvetica, sans-serif; color: #222; }\r\na { color: #375eab; }\r\nh1 { margin: 12px 5px; font-size: 2.4rem; color: #333; }\r\nh2 { margin: 11px 5px; font-size: 2.2rem; color: #333; }\r\nh3 { margin: 10px 5px; font-size: 2.0rem; color: #333; }\r\n\r\n.container { max-width: 800px; }\r\n.content-container { padding: 0 5px; }\r\n\r\n.navbar-default { background-color: #e0ebf5; border-bottom: #d0dbe5 1px solid; }\r\n.navbar-sign-in { padding: 15px 5px !important; color: #333 !important; }\r\n.navbar-user { padding: 8px 15px !important; }\r\n.navbar-title { color: #000; letter-spacing: 2px; }\r\n.nav>li>a:focus, .nav>li>a:hover, .nav .open>a, .nav .open>a:focus, .nav .open>a:hover { background-color: #d0dbe5; }\r\n\r\n.avatar-block { display: block; padding:5px; }\r\n.avatar-block-l { display: table-cell; vertical-align: middle; }\r\n.avatar-block-r { display: table-cell; padding-left: 10px; vertical-align: middle; }\r\n\r\n.icon-s { width:15px; padding-right: 5px; }\r\n.loading-info { text-align: center; padding: 50px 0; }\r\n.info-separator { padding: 0 3px; }\r\n.btn-fix { min-width: 36px; }\r\n\r\n.card { background-color: #fff; border-top: #ccc 1px dashed; }\r\n\r\n.topics-topic { margin: 2px 0; padding: 2px 0; }\r\n.topics-topic-title { font-size: 1.5rem; padding-left: 5px;}\r\n.topics-topic-info { font-size: 1.2rem; color: #777; padding-left: 5px; margin-top: 2px; }\r\n.topics-topic-admin-tools { padding-left: 5px; font-size: 1.2rem; color: #d55; margin-top: 2px; }\r\n.topics-topic-admin-tools a { color: #d55; }\r\n.topics-topic-admin-tools a:hover { color: #f55; text-decoration: none; }\r\n.topics-topic-top-buttons { margin: 10px 5px; }\r\n\r\n.comments-comment { margin: 5px 0; padding: 5px 0; }\r\n.comments-comment-author { font-size: 1.4rem; color: #333; }\r\n.comments-comment-date { font-size: 1.2rem; color: #777; }\r\n.comments-comment-content { padding: 10px 5px 0 5px; overflow-x: auto; font-size: 1.5rem; }\r\n.comments-comment-admin-tools {padding-left: 5px; font-size: 1.2rem; color: #d55; margin-top: 4px; }\r\n.comments-comment-admin-tools a { color: #d55; }\r\n.comments-comment-admin-tools a:hover { color: #f55; text-decoration: none; }\r\n.comments-comment-new { margin: 15px 5px; }\r\n\r\n.comments-comment-content h1, .md-preview h1 { font-size: 2.2rem; color: #333; margin: 10px 0; }\r\n.comments-comment-content h2, .md-preview h2 { font-size: 2.1rem; color: #333; margin: 10px 0; }\r\n.comments-comment-content h3, .md-preview h3 { font-size: 2.0rem; color: #333; margin: 10px 0; }\r\n.comments-comment-content h4, .md-preview h4 { font-size: 1.9rem; color: #333; margin: 10px 0; }\r\n.comments-comment-content h5, .md-preview h5 { font-size: 1.8rem; color: #333; margin: 10px 0; }\r\n.comments-comment-content h6, .md-preview h6 { font-size: 1.7rem; color: #333; margin: 10px 0; }\r\n.comments-comment-content td, .md-preview td { border: #ccc 1px solid; padding: 5px; }\r\n.comments-comment-content th, .md-preview th { border: #ccc 1px solid; padding: 5px; }\r\n.comments-comment-content blockquote, .md-preview blockquote { color: #777; font-size: 1.3rem; }\r\n\r\n.user-profile { margin: 5px 0; padding: 5px; }\r\n\r\n#comment-input { height: 240px; background-color: #fff; }\r\n.md-editor { border-radius: 3px; }\r\n.md-header { border-top-left-radius: 3px; border-top-right-radius: 3px; }\r\ntextarea.md-input { border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; padding: 5px; }\r\n.md-preview { border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; padding: 5px; }\r\n\r\npre { \r\n    border: 0;\r\n    color: #333;\r\n    background-color: #f5f6f7;\r\n    white-space: pre;\r\n    word-wrap: normal;\r\n    word-break: normal;\r\n    overflow-x: auto;\r\n    font-size: 1.3rem;\r\n    font-family: Consolas, Menlo, monospace;\r\n}\r\ncode, pre code {\r\n    color: #333;\r\n    background-color: #f5f6f7; \r\n    font-size: 1.3rem;\r\n    font-family: Consolas, Menlo, monospace;\r\n    white-space: pre;\r\n}\r\n\r\n.pagination { margin: 10px 5px; }")},
	"/frontend/js/bebop-app.js":            &fileData{name: "bebop-app.js", mtime: 1493841991, size: 3565, body: []byte("const BEBOP_LOCAL_STORAGE_TOKEN_KEY = 'bebop_auth_token'\r\nconst BEBOP_OAUTH_RESULT_COOKIE = 'bebop_oauth_result'\r\n\r\nvar BebopApp = new Vue({\r\n\tel: '#app',\r\n\r\n\ttemplate: `\r\n\t\t<div>\r\n\t\t\t<bebop-nav :config=\"config\" :auth=\"auth\"></bebop-nav>\r\n\t\t\t<bebop-username-modal ref=\"usernameModal\"></bebop-username-modal>\r\n\t\t\t<router-view :config=\"config\" :auth=\"auth\"></router-view>\r\n\t\t</div>\r\n\t`,\r\n\r\n\trouter: new VueRouter({\r\n\t\troutes: [\r\n\t\t\t{ path: '/', component: BebopTopics },\r\n\t\t\t{ path: '/p/:page', component: BebopTopics },\r\n\t\t\t{ path: '/t/:topic', component: BebopComments },\r\n\t\t\t{ path: '/t/:topic/p/:page', component: BebopComments },\r\n\t\t\t{ path: '/t/:topic/p/:page/c/:comment', component: BebopComments },\r\n\t\t\t{ path: '/new-topic', component: BebopNewTopic },\r\n\t\t\t{ path: '/new-comment/:topic', component: BebopNewComment },\r\n\t\t\t{ path: '/me', component: BebopUser },\r\n\t\t\t{ path: '/u/:user', component: BebopUser },\r\n\t\t],\r\n\t\tscrollBehavior: function(to, from, savedPosition) {\r\n\t\t\tif (savedPosition) {\r\n\t\t\t\treturn savedPosition\r\n\t\t\t} else {\r\n\t\t\t\treturn { x: 0, y: 0 }\r\n\t\t\t}\r\n\t\t}\r\n\t}),\r\n\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tconfig: appConfig,\r\n\t\t\tauth: { \r\n\t\t\t\tauthenticated: false, \r\n\t\t\t\tuser: {} \r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\r\n\tmounted: function() {\r\n\t\tthis.checkAuth()\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tsignIn: function(provider) {\r\n\t\t\twindow.open(\"oauth/begin/\" + provider, \"\", \"width=800,height=600\");\r\n\t\t},\r\n\r\n\t\tsignOut: function() {\r\n\t\t\tlocalStorage.removeItem(BEBOP_LOCAL_STORAGE_TOKEN_KEY)\r\n\t\t\tVue.http.headers.common['Authorization'] = \"\"\r\n\t\t\tthis.auth = { \r\n\t\t\t\tauthenticated: false, \r\n\t\t\t\tuser: {} \r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\toauthEnd: function() {\r\n\t\t\tvar result = this.getCookieByName(BEBOP_OAUTH_RESULT_COOKIE)\r\n\t\t\tvar parts = result.split(\":\")\r\n\r\n\t\t\tif (parts.length !== 2) {\r\n\t\t\t\t\tthis.oauthError(\"Unknown\")\r\n\t\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (parts[0] === \"error\") {\r\n\t\t\t\t\tthis.oauthError(parts[1])\r\n\t\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (parts[0] !== \"success\") {\r\n\t\t\t\t\tthis.oauthError(\"Unknown\")\r\n\t\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.oauthSuccess(parts[1])\r\n\t\t},\r\n\r\n\t\tgetCookieByName: function(name) {\r\n\t\t\t\tvar value = \"; \" + document.cookie\r\n\t\t\t\tvar parts = value.split(\"; \" + name + \"=\")\r\n\t\t\t\tif (parts.length == 2) return parts.pop().split(\";\").shift()\r\n\t\t},\r\n\r\n\t\toauthSuccess: function(token) {\r\n\t\t\tlocalStorage.setItem(BEBOP_LOCAL_STORAGE_TOKEN_KEY, token)\r\n\t\t\tthis.checkAuth()\r\n\t\t},\r\n\r\n\t\toauthError: function(error) {\r\n\t\t\tif (error === \"UserBlocked\") {\r\n\t\t\t\tconsole.log(\"oauth error: USER IS BLOCKED\")\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"oauth error: \" + error)\r\n\t\t\t}\r\n\t\t\tthis.signOut()\r\n\t\t},\r\n\r\n\t\tcheckAuth: function() {\r\n\t\t\tvar token = localStorage.getItem(BEBOP_LOCAL_STORAGE_TOKEN_KEY)\r\n\t\t\tif (token) {\r\n\t\t\t\tVue.http.headers.common['Authorization'] = 'Bearer ' + token\r\n\t\t\t}\r\n\t\t\tthis.getMe()\r\n\t\t},\r\n\r\n\t\tgetMe: function() {\r\n\t\t\tthis.$http.get('api/v1/me').then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.auth = {\r\n\t\t\t\t\t\tauthenticated: response.body.authenticated ? true : false,\r\n\t\t\t\t\t\tuser: response.body.authenticated ? response.body.user : {},\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.auth.authenticated && this.auth.user.name == \"\") {\r\n\t\t\t\t\t\tthis.setMyName()\r\n\t\t\t\t\t}\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tconsole.log(\"ERROR: getMe: \" + JSON.stringify(response.body))\r\n\t\t\t\t\tif (response.status == 401) {\r\n\t\t\t\t\t\tthis.signOut()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t},\r\n\r\n\t\tsetMyName: function() {\r\n\t\t\tthis.$refs.usernameModal.show(\r\n\t\t\t\tthis.auth.user.id,\r\n\t\t\t\t\"\",\r\n\t\t\t\t(success) => {\r\n\t\t\t\t\tif (!success) {\r\n\t\t\t\t\t\tthis.signOut()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getMe()\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n})\r\n\r\nfunction bebopOAuthEnd() {\r\n\tBebopApp.oauthEnd()\r\n}")},
	"/frontend/js/bebop-comments.js":       &fileData{name: "bebop-comments.js", mtime: 1493841991, size: 7004, body: []byte("const COMMENTS_PER_PAGE = 20\r\n\r\nvar BebopComments = Vue.component('bebop-comments', {\r\n\r\n\ttemplate: `\r\n\t\t<div class=\"container content-container\">\r\n\r\n\t\t\t<div v-if=\"!dataReady\" class=\"loading-info\">\r\n\t\t\t\t<div v-if=\"error\" >\r\n\t\t\t\t\t<p class=\"text-danger\">\r\n\t\t\t\t\t\tSorry, could not load that topic. Please check your connection.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<a class=\"btn btn-primary btn-sm\" role=\"button\" @click=\"load\">\r\n\t\t\t\t\t\t<i class=\"fa fa-refresh\"></i> Try Again\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else>\r\n\t\t\t\t\t<i class=\"fa fa-circle-o-notch fa-spin fa-3x fa-fw\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else>\r\n\r\n\t\t\t\t<h2>{{topic.title}}</h2>\r\n\r\n\t\t\t\t<nav v-if=\"lastPage > 1\">\r\n\t\t\t\t\t<ul class=\"pagination pagination-sm\">\r\n\t\t\t\t\t\t<li v-for=\"p in pagination\" :class=\"{active: page == p}\">\r\n\t\t\t\t\t\t\t<span v-if=\"p == '...'\">\u2026</span>\r\n\t\t\t\t\t\t\t<router-link v-if=\"p != '...'\" :to=\"'/t/' + topicId + '/p/' + p\">{{p}}</router-link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</nav>\r\n\r\n\t\t\t\t<div v-for=\"comment in comments\" class=\"card comments-comment\" :id=\"'comment-' + comment.id\">\r\n\r\n\t\t\t\t\t<div class=\"avatar-block\">\r\n\t\t\t\t\t\t<div class=\"avatar-block-l\">\r\n\t\t\t\t\t\t\t<img v-if=\"users[comment.authorId].avatar\" class=\"img-circle\" :src=\"users[comment.authorId].avatar\" width=\"35\" height=\"35\"> \r\n\t\t\t\t\t\t\t<img v-else class=\"img-circle\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\" width=\"35\" height=\"35\"> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"avatar-block-r\">\r\n\t\t\t\t\t\t\t<div class=\"comments-comment-author\">{{users[comment.authorId].name}}</div>\r\n\t\t\t\t\t\t\t<div class=\"comments-comment-date\">\r\n\t\t\t\t\t\t\t\tcommented <span :title=\"comment.createdAt|formatTime\">{{comment.createdAt|formatTimeAgo}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"comments-comment-content\" v-html=\"comment.content\">\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div v-if=\"auth.authenticated && auth.user.admin\" class=\"comments-comment-admin-tools\">\r\n\t\t\t\t\t\t<a v-if=\"topic.commentCount > 1\" class=\"a-tool\" role=\"button\" @click=\"delComment(comment.id)\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i> delete comment</a>\r\n\t\t\t\t\t\t<span v-if=\"topic.commentCount > 1\" class=\"info-separator\"> | </span>\r\n\t\t\t\t\t\t<router-link :to=\"'/u/' + users[comment.authorId].id\" class=\"a-tool\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i> user profile</router-link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div v-if=\"auth.authenticated && page == lastPage\" class=\"comments-comment-new\">\r\n\t\t\t\t\t<router-link :to=\"'/new-comment/' + topicId\" class=\"btn btn-primary btn-sm\">\r\n\t\t\t\t\t\t<i class=\"fa fa-reply\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\tReply\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<nav v-if=\"lastPage > 1\">\r\n\t\t\t\t\t<ul class=\"pagination pagination-sm\">\r\n\t\t\t\t\t\t<li v-for=\"p in pagination\" :class=\"{active: page == p}\">\r\n\t\t\t\t\t\t\t<span v-if=\"p == '...'\">\u2026</span>\r\n\t\t\t\t\t\t\t<router-link v-if=\"p != '...'\" :to=\"'/t/' + topicId + '/p/' + p\">{{p}}</router-link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</nav>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t`,\r\n\r\n\tprops: [\"config\", \"auth\"],\r\n\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\ttopic: {},\r\n\t\t\ttopicReady: false,\r\n\t\t\tcomments: [],\r\n\t\t\tcommentCount: 0,\r\n\t\t\tcommentsReady: false,\r\n\t\t\tusers: {},\r\n\t\t\tusersReady: false,\r\n\t\t\terror: false,\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tdataReady: function() {\r\n\t\t\treturn this.topicReady && this.commentsReady && this.usersReady\r\n\t\t},\r\n\r\n\t\ttopicId: function() {\r\n\t\t\tvar topicId = parseInt(this.$route.params.topic)\r\n\t\t\tif (!topicId) {\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\t\t\treturn topicId\r\n\t\t},\r\n\r\n\t\tpage: function() {\r\n\t\t\tvar page = parseInt(this.$route.params.page)\r\n\t\t\tif (!page || page < 1) {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t\treturn page\r\n\t\t},\r\n\r\n\t\tlastPage: function() {\r\n\t\t\tif (!this.commentsReady) {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t\tvar p = Math.floor((this.commentCount - 1) / COMMENTS_PER_PAGE) + 1\r\n\t\t\tif (p < 1) {\r\n\t\t\t\tp = 1\r\n\t\t\t}\r\n\t\t\treturn p\r\n\t\t},\r\n\r\n\t\tpagination: function() {\r\n\t\t\tif (!this.commentsReady) {\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t\treturn getPagination(this.page, this.lastPage)\r\n\t\t}\r\n\t},\r\n\r\n\twatch: {\r\n\t\tpage: function(val) {\r\n\t\t\tthis.load()\r\n\t\t},\r\n\t\ttopicId: function(val) {\r\n\t\t\tthis.load()\r\n\t\t},\r\n\t\tdataReady: function(val) {\r\n\t\t\tif (val && this.$route.params.comment) {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t$('html, body').animate({\r\n\t\t\t\t\t\tscrollTop: $(\"#comment-\" + this.$route.params.comment).offset().top\r\n\t\t\t\t\t}, 500);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tcreated: function() {\r\n\t\tthis.load()\r\n\t},\r\n\t\r\n\tmethods: {\r\n\r\n\t\tload: function() {\r\n\t\t\tthis.topic = {}\r\n\t\t\tthis.topicReady = false\r\n\t\t\tthis.comments = []\r\n\t\t\tthis.commentCount = 0\r\n\t\t\tthis.commentsReady = false\r\n\t\t\tthis.users = {}\r\n\t\t\tthis.usersReady = false\r\n\t\t\tthis.waitNewComment = false\r\n\t\t\tthis.error = false\r\n\t\t\tthis.getTopic()\r\n\t\t\tthis.getComments()\r\n\t\t},\r\n\r\n\t\tgetTopic: function() {\r\n\t\t\tvar url = 'api/v1/topics/' + this.topicId\r\n\t\t\tthis.$http.get(url).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.topic = response.body.topic\r\n\t\t\t\t\tthis.topicReady = true\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.error = true\r\n\t\t\t\t\tconsole.log(\"ERROR: getTopic: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tgetComments: function() {\r\n\t\t\tvar url = 'api/v1/comments?topic=' + this.topicId + '&limit=' + COMMENTS_PER_PAGE\r\n\t\t\tif (this.page > 0) {\r\n\t\t\t\tvar offset = (this.page - 1) * COMMENTS_PER_PAGE \r\n\t\t\t\turl += '&offset=' + offset \r\n\t\t\t}\r\n\t\t\tthis.$http.get(url).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.comments = response.body.comments\r\n\t\t\t\t\tthis.commentCount = response.body.count\r\n\t\t\t\t\tfor (var i = 0; i < this.comments.length; i++) {\r\n\t\t\t\t\t\tthis.comments[i].content = marked(this.comments[i].content, { sanitize: true, breaks: true })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.commentsReady = true\r\n\r\n\t\t\t\t\tif (this.page > this.lastPage) {\r\n\t\t\t\t\t\tthis.$parent.$router.replace(\"/t/\" + this.topicId + \"/p/\" + this.lastPage)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.getUsers()\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.error = true\r\n\t\t\t\t\tconsole.log(\"ERROR: getComments: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tgetUsers: function() {\r\n\t\t\tvar url = 'api/v1/users'\r\n\t\t\tvar ids = []\r\n\t\t\tfor (var i = 0; i < this.comments.length; i++) {\r\n\t\t\t\tids.push(this.comments[i].authorId)\r\n\t\t\t}\r\n\t\t\tids = ids.filter((v, i, a) => a.indexOf(v) === i)\r\n\t\t\tif (ids.length == 0) {\r\n\t\t\t\tthis.users = {}\r\n\t\t\t\tthis.usersReady = true\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\turl += '?ids=' + ids.join(',')\r\n\t\t\tthis.$http.get(url).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tvar users = {}\r\n\t\t\t\t\tfor (var i = 0; i < response.body.users.length; i++) {\r\n\t\t\t\t\t\tusers[response.body.users[i].id] = response.body.users[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.users = users\r\n\t\t\t\t\tthis.usersReady = true\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.error = true\r\n\t\t\t\t\tconsole.log(\"ERROR: getUsers: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tdelComment: function(id) {\r\n\t\t\tif (!confirm(\"Are you sure you want to delete comment \"+ id + \"?\")) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tvar url = 'api/v1/comments/' + id\r\n\t\t\tthis.$http.delete(url).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.load()\r\n\t\t\t\t},\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tconsole.log(\"ERROR: delComment: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}, \r\n\r\n\t},\r\n\r\n})")},
	"/frontend/js/bebop-init.js":           &fileData{name: "bebop-init.js", mtime: 1493841991, size: 885, body: []byte("marked.setOptions({\r\n\tsanitize: true,\r\n\tbreaks: true,\r\n});\r\n\r\n\r\nVue.filter('formatTime', function(value) {\r\n\tif (value) {\r\n\t\treturn moment(String(value)).format('MMMM Do YYYY, hh:mm')\r\n\t}\r\n})\r\n\r\nVue.filter('formatTimeAgo', function(value) {\r\n\tif (value) {\r\n\t\treturn moment(String(value)).fromNow()\r\n\t}\r\n})\r\n\r\nVue.filter('capitalize', function(value) {\r\n\tif (value) {\r\n\t\tvalue = String(value)\r\n\t\treturn value[0].toUpperCase() + value.slice(1)\r\n\t}\r\n})\r\n\r\nfunction getPagination(curPage, lastPage) {\r\n\tvar pagination = []\r\n\tvar lr = 2\r\n\r\n\tpagination.push(1);\r\n\r\n\tif (curPage - lr > 2) {\r\n\t\tpagination.push('...');\r\n\t}\r\n\r\n\tfor (var p = curPage-lr; p <= curPage+lr; p++) {\r\n\t\tif (p > 1 && p < lastPage) {\r\n\t\t\tpagination.push(p);\r\n\t\t}\r\n\t}\r\n\r\n\tif (curPage + lr < lastPage - 1) {\r\n\t\tpagination.push('...');\r\n\t}\r\n\r\n\tif (lastPage > 1) {\r\n\t\tpagination.push(lastPage);\r\n\t}\r\n\r\n\treturn pagination\r\n}")},
	"/frontend/js/bebop-nav.js":            &fileData{name: "bebop-nav.js", mtime: 1493841991, size: 2044, body: []byte("Vue.component('bebop-nav', {\r\n\r\n\ttemplate: `\r\n\t\t<nav class=\"navbar navbar-default navbar-fixed-top\">\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<div class=\"navbar-header pull-left\">\r\n\t\t\t\t\t<a class=\"navbar-brand\" href=\"#\">\r\n\t\t\t\t\t\t<span class=\"navbar-title\">\r\n\t\t\t\t\t\t\t<i class=\"fa fa-comments\"></i>\r\n\t\t\t\t\t\t\t{{ config.title }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"navbar-header pull-right\">\r\n\t\t\t\t\t<ul class=\"nav pull-left\">\r\n\t\t\t\t\t\t<li v-if=\"auth.authenticated\">\r\n\t\t\t\t\t\t\t<a class=\"navbar-link dropdown-toggle navbar-user\" role=\"button\" data-toggle=\"dropdown\" :title=\"auth.user.name\">\r\n\t\t\t\t\t\t\t\t<img v-if=\"auth.user.avatar\" class=\"img-circle\" :src=\"auth.user.avatar\" width=\"35\" height=\"35\"> \r\n\t\t\t\t\t\t\t\t<img v-else class=\"img-circle\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\" width=\"35\" height=\"35\"> \r\n\t\t\t\t\t\t\t\t<span class=\"caret\"></span>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<ul class=\"dropdown-menu pull-right\">\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<router-link to=\"/me\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-user icon-s\"></i>\r\n\t\t\t\t\t\t\t\t\t\t{{auth.user.name}}\r\n\t\t\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li role=\"separator\" class=\"divider\"></li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<a href=\"#\" @click.prevent=\"$parent.signOut()\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-sign-out icon-s\"></i>\r\n\t\t\t\t\t\t\t\t\t\tSign out\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li v-else>\r\n\t\t\t\t\t\t\t<a class=\"navbar-link dropdown-toggle navbar-sign-in\" href=\"#\" data-toggle=\"dropdown\">\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-user icon-s\"></i>\r\n\t\t\t\t\t\t\t\tSign In / Up \r\n\t\t\t\t\t\t\t\t<span class=\"caret\"></span>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<ul class=\"dropdown-menu pull-right\">\r\n\t\t\t\t\t\t\t\t<li v-for=\"provider in config.oauth\">\r\n\t\t\t\t\t\t\t\t\t<a href=\"#\" @click.prevent=\"$parent.signIn(provider)\">\r\n\t\t\t\t\t\t\t\t\t\t<i :class=\"'icon-s fa fa-' + provider\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t\twith {{provider|capitalize}}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t`,\r\n\r\n\tprops: [\"config\", \"auth\"],\r\n\r\n\tdata: function() {\r\n\t\treturn {}\r\n\t}\r\n\r\n})\r\n\r\n")},
	"/frontend/js/bebop-new-comment.js":    &fileData{name: "bebop-new-comment.js", mtime: 1493841991, size: 2054, body: []byte("var BebopNewComment = Vue.component('bebop-new-comment', {\r\n\r\n\ttemplate: `\r\n\t\t<div class=\"container content-container\">\r\n\t\t\t<h2>New Comment</h2>\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<label for=\"user-name\" class=\"form-control-label\">Comment:</label>\r\n\t\t\t\t\t<textarea class=\"form-control\" id=\"comment-input\" @change=\"hideErrorMessage\" @keyup=\"hideErrorMessage\" maxlength=\"10000\"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"form-error\" class=\"alert alert-danger\" :class=\"{hidden: errorMessage==''}\" role=\"alert\" style=\"cursor:pointer\" @click=\"hideErrorMessage\">\r\n\t\t\t\t\t{{errorMessage}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"postComment\" :disabled=\"posting\">\r\n\t\t\t\t\t<i class=\"fa fa-reply\"></i> Reply\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n\r\n\tprops: [\"config\", \"auth\"],\r\n\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\terrorMessage: \"\",\r\n\t\t\tposting: false,\r\n\t\t}\r\n\t},\r\n\r\n\tmounted: function() {\r\n\t\t$('#comment-input').markdown({\r\n\t\t\ticonlibrary: \"fa\",\r\n\t\t\tfullscreen: {\r\n\t\t\t\tenable: false,\r\n\t\t\t},\r\n\t\t})\r\n\t},\r\n\t\r\n\tmethods: {\r\n\t\tpostComment: function() {\r\n\t\t\tvar topicId = parseInt(this.$route.params.topic)\r\n\t\t\tvar comment = $(\"#comment-input\").val().trim()\r\n\t\t\tif (comment.length < 1 || comment.length > 10000) {\r\n\t\t\t\tthis.showErrorMessage(\"Invalid comment\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.posting = true\t\r\n\t\t\tthis.$http.post(\r\n\t\t\t\t'api/v1/comments',\r\n\t\t\t\t{\r\n\t\t\t\t\ttopic: topicId,\r\n\t\t\t\t\tcontent: comment,\r\n\t\t\t\t}\r\n\t\t\t).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tvar id = response.data.id\r\n\t\t\t\t\tvar page = Math.floor((response.data.count - 1) / COMMENTS_PER_PAGE) + 1\r\n\t\t\t\t\tthis.posting = false\r\n\t\t\t\t\tthis.$parent.$router.push(\"/t/\" + topicId + \"/p/\" + page + /c/ + id)\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.posting = false\r\n\t\t\t\t\tthis.showErrorMessage(\"An error occured\")\r\n\t\t\t\t\tconsole.log(\"ERROR: postComment: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tshowErrorMessage: function(message) {\r\n\t\t\tthis.errorMessage = message\r\n\t\t},\r\n\r\n\t\thideErrorMessage: function() {\r\n\t\t\tthis.errorMessage = ''\r\n\t\t}\r\n\t},\r\n\r\n})")},
	"/frontend/js/bebop-new-topic.js":      &fileData{name: "bebop-new-topic.js", mtime: 1493841991, size: 2286, body: []byte("var BebopNewTopic = Vue.component('bebop-new-topic', {\r\n\r\n\ttemplate: `\r\n\t\t<div class=\"container content-container\">\r\n\t\t\t<h2>New Topic</h2>\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<label for=\"user-name\" class=\"form-control-label\">Title:</label>\r\n\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"topic-title-input\" @change=\"hideErrorMessage\" @keyup=\"hideErrorMessage\" maxlength=\"100\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<label for=\"user-name\" class=\"form-control-label\">Comment:</label>\r\n\t\t\t\t\t<textarea class=\"form-control\" id=\"comment-input\" @change=\"hideErrorMessage\" @keyup=\"hideErrorMessage\" maxlength=\"10000\"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"form-error\" class=\"alert alert-danger\" :class=\"{hidden: errorMessage==''}\" role=\"alert\" style=\"cursor:pointer\" @click=\"hideErrorMessage\">\r\n\t\t\t\t\t{{errorMessage}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"postTopic\" :disabled=\"posting\">\r\n\t\t\t\t\t<i class=\"fa fa-plus\"></i> Create Topic\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n\r\n\tprops: [\"config\", \"auth\"],\r\n\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\terrorMessage: \"\",\r\n\t\t\tposting: false,\r\n\t\t}\r\n\t},\r\n\r\n\tmounted: function() {\r\n\t\t$('#comment-input').markdown({\r\n\t\t\ticonlibrary: \"fa\",\r\n\t\t\tfullscreen: {\r\n\t\t\t\tenable: false,\r\n\t\t\t},\r\n\t\t})\r\n\t},\r\n\t\r\n\tmethods: {\r\n\t\tpostTopic: function() {\r\n\t\t\tvar title = $(\"#topic-title-input\").val().trim()\r\n\t\t\tif (title.length < 1 || title.length > 100) {\r\n\t\t\t\tthis.showErrorMessage(\"Invalid topic title\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tvar comment = $(\"#comment-input\").val().trim()\r\n\t\t\tif (comment.length < 1 || comment.length > 10000) {\r\n\t\t\t\tthis.showErrorMessage(\"Invalid comment\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.posting = true\t\r\n\t\t\tthis.$http.post(\r\n\t\t\t\t'api/v1/topics',\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\tcontent: comment,\r\n\t\t\t\t}\r\n\t\t\t).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.posting = false\r\n\t\t\t\t\tthis.$parent.$router.push(\"/t/\" + response.data.id)\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.posting = false\r\n\t\t\t\t\tthis.showErrorMessage(\"An error occured\")\r\n\t\t\t\t\tconsole.log(\"ERROR: postTopic: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tshowErrorMessage: function(message) {\r\n\t\t\tthis.errorMessage = message\r\n\t\t},\r\n\r\n\t\thideErrorMessage: function() {\r\n\t\t\tthis.errorMessage = ''\r\n\t\t}\r\n\t},\r\n\r\n})")},
	"/frontend/js/bebop-topics.js":         &fileData{name: "bebop-topics.js", mtime: 1493841991, size: 5901, body: []byte("const TOPICS_PER_PAGE = 20\r\n\r\nvar BebopTopics = Vue.component('bebop-topics', {\r\n\r\n\ttemplate: `\r\n\t\t<div class=\"container content-container\">\r\n\r\n\t\t\t<div v-if=\"!dataReady\" class=\"loading-info\">\r\n\t\t\t\t<div v-if=\"error\" >\r\n\t\t\t\t\t<p class=\"text-danger\">\r\n\t\t\t\t\t\tSorry, could not load topics. Please check your connection.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<a class=\"btn btn-primary btn-sm\" role=\"button\" @click=\"load\">\r\n\t\t\t\t\t\t<i class=\"fa fa-refresh\"></i> Try Again\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else>\r\n\t\t\t\t\t<i class=\"fa fa-circle-o-notch fa-spin fa-3x fa-fw\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else>\r\n\r\n\t\t\t\t<div class=\"topics-topic-top-buttons\">\r\n\t\t\t\t\t<router-link v-if=\"auth.authenticated\" to=\"/new-topic\" class=\"btn btn-primary btn-sm\">\r\n\t\t\t\t\t\t<i class=\"fa fa-plus\"></i> New Topic\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t\t<a class=\"btn btn-primary btn-sm\" role=\"button\" @click=\"load\">\r\n\t\t\t\t\t\t<i class=\"fa fa-refresh\"></i> Refresh\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<nav v-if=\"page > 1\">\r\n\t\t\t\t\t<ul class=\"pagination pagination-sm\">\r\n\t\t\t\t\t\t<li v-for=\"p in pagination\" :class=\"{active: page == p}\">\r\n\t\t\t\t\t\t\t<span v-if=\"p == '...'\">\u2026</span>\r\n\t\t\t\t\t\t\t<router-link v-if=\"p != '...'\" :to=\"'/p/' + p\">{{p}}</router-link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</nav>\r\n\r\n\t\t\t\t<div v-for=\"topic in topics\" class=\"card topics-topic\">\r\n\t\t\t\t\t<div class=\"avatar-block\">\r\n\t\t\t\t\t\t<div class=\"avatar-block-l\">\r\n\t\t\t\t\t\t\t<img v-if=\"users[topic.authorId].avatar\" class=\"img-circle\" :src=\"users[topic.authorId].avatar\" width=\"40\" height=\"40\"> \r\n\t\t\t\t\t\t\t<img v-else class=\"img-circle\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\" width=\"40\" height=\"40\"> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"avatar-block-r\">\r\n\t\t\t\t\t\t\t<div class=\"topics-topic-title\">\r\n\t\t\t\t\t\t\t\t<router-link :to=\"'/t/' + topic.id\">{{topic.title}}</router-link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"topics-topic-info\">\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-user-o\"></i> {{users[topic.authorId].name}}\r\n\t\t\t\t\t\t\t\t<span class=\"info-separator\"> | </span>\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-comment-o\"></i> {{topic.commentCount}}\r\n\t\t\t\t\t\t\t\t<span class=\"info-separator\"> | </span>\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-clock-o\"></i> <span :title=\"topic.lastCommentAt|formatTime\">{{topic.lastCommentAt|formatTimeAgo}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"topics-topic-admin-tools\" v-if=\"auth.authenticated && auth.user.admin\">\r\n\t\t\t\t\t\t\t\t<a class=\"a-tool\" role=\"button\" @click=\"delTopic(topic.id)\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i> delete topic</a>\r\n\t\t\t\t\t\t\t\t<span class=\"info-separator\"> | </span> \r\n\t\t\t\t\t\t\t\t<router-link :to=\"'/u/' + users[topic.authorId].id\" class=\"a-tool\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i> user profile</router-link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<nav v-if=\"lastPage > 1\">\r\n\t\t\t\t\t<ul class=\"pagination pagination-sm\">\r\n\t\t\t\t\t\t<li v-for=\"p in pagination\" :class=\"{active: page == p}\">\r\n\t\t\t\t\t\t\t<span v-if=\"p == '...'\">\u2026</span>\r\n\t\t\t\t\t\t\t<router-link v-if=\"p != '...'\" :to=\"'/p/' + p\">{{p}}</router-link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</nav>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t`,\r\n\r\n\tprops: [\"config\", \"auth\"],\r\n\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\ttopics: [],\r\n\t\t\ttopicsReady: false,\r\n\t\t\ttopicCount: 0,\r\n\t\t\tusers: {},\r\n\t\t\tusersReady: false,\r\n\t\t\terror: false,\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tdataReady: function() {\r\n\t\t\treturn this.topicsReady && this.usersReady\r\n\t\t},\r\n\r\n\t\tpage: function() {\r\n\t\t\tvar page = parseInt(this.$route.params.page)\r\n\t\t\tif (!page || page < 1) {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t\treturn page\r\n\t\t},\r\n\r\n\t\tlastPage: function() {\r\n\t\t\tif (!this.topicsReady) {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t\tvar p = Math.floor((this.topicCount - 1) / TOPICS_PER_PAGE) + 1\r\n\t\t\tif (p < 1) {\r\n\t\t\t\tp = 1\r\n\t\t\t}\r\n\t\t\treturn p\r\n\t\t},\r\n\r\n\t\tpagination: function() {\r\n\t\t\tif (!this.topicsReady) {\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t\treturn getPagination(this.page, this.lastPage)\r\n\t\t}\r\n\t},\r\n\r\n\twatch: {\r\n\t\tpage: function(val) {\r\n\t\t\tthis.load()\r\n\t\t},\r\n\t},\r\n\r\n\tcreated: function() {\r\n\t\tthis.load()\r\n\t},\r\n\t\r\n\tmethods: {\r\n\t\tload: function() {\r\n\t\t\tthis.topics = []\r\n\t\t\tthis.topicsReady = false\r\n\t\t\tthis.topicCount = 0\r\n\t\t\tthis.users = {}\r\n\t\t\tthis.usersReady = false\r\n\t\t\tthis.error = false\r\n\t\t\tthis.getTopics()\r\n\t\t},\r\n\r\n\t\tgetTopics: function() {\r\n\t\t\tvar url = 'api/v1/topics?limit=' + TOPICS_PER_PAGE\r\n\t\t\tif (this.page > 1) {\r\n\t\t\t\tvar offset = (this.page - 1) * TOPICS_PER_PAGE \r\n\t\t\t\turl += '&offset=' + offset \r\n\t\t\t}\r\n\t\t\tthis.$http.get(url).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.topics = response.body.topics\r\n\t\t\t\t\tthis.topicCount = response.body.count\r\n\t\t\t\t\tthis.topicsReady = true\r\n\r\n\t\t\t\t\tif (this.page > this.lastPage) {\r\n\t\t\t\t\t\tthis.$parent.$router.replace(\"/p/\" + this.lastPage)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.getUsers()\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.error = true\r\n\t\t\t\t\tconsole.log(\"ERROR: getTopics: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tgetUsers: function() {\r\n\t\t\tvar url = 'api/v1/users'\r\n\t\t\tvar ids = []\r\n\t\t\tfor (var i = 0; i < this.topics.length; i++) {\r\n\t\t\t\tids.push(this.topics[i].authorId)\r\n\t\t\t}\r\n\t\t\tids = ids.filter((v, i, a) => a.indexOf(v) === i)\r\n\t\t\tif (ids.length == 0) {\r\n\t\t\t\tthis.users = {}\r\n\t\t\t\tthis.usersReady = true\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\turl += '?ids=' + ids.join(',')\r\n\t\t\tthis.$http.get(url).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tvar users = {}\r\n\t\t\t\t\tfor (var i = 0; i < response.body.users.length; i++) {\r\n\t\t\t\t\t\tusers[response.body.users[i].id] = response.body.users[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.users = users\r\n\t\t\t\t\tthis.usersReady = true\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.error = true\r\n\t\t\t\t\tconsole.log(\"ERROR: getUsers: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tdelTopic: function(id) {\r\n\t\t\tif (!confirm(\"Are you sure you want to delete topic \"+ id + \"?\")) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tvar url = 'api/v1/topics/' + id\r\n\t\t\tthis.$http.delete(url).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.load()\r\n\t\t\t\t},\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tconsole.log(\"ERROR: delTopic: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}, \r\n\r\n\t}\r\n\r\n})\r\n\r\n")},
	"/frontend/js/bebop-user.js":           &fileData{name: "bebop-user.js", mtime: 1493841991, size: 7081, body: []byte("var BebopUser = Vue.component('bebop-user', {\r\n\r\n\ttemplate: `\r\n\t\t<div class=\"container content-container\">\r\n\r\n\t\t\t<div v-if=\"!dataReady\" class=\"loading-info\">\r\n\t\t\t\t<div v-if=\"error\" >\r\n\t\t\t\t\t<p class=\"text-danger\">\r\n\t\t\t\t\t\tSorry, could not load the user profile. Please check your connection.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<a class=\"btn btn-primary btn-sm\" role=\"button\" @click=\"load\">\r\n\t\t\t\t\t\t<i class=\"fa fa-refresh\"></i> Try Again\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else>\r\n\t\t\t\t\t<i class=\"fa fa-circle-o-notch fa-spin fa-3x fa-fw\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else>\r\n\r\n\t\t\t\t<h2 v-if=\"isMe\">My profile</h2>\r\n\t\t\t\t<h2 v-else>User profile: {{user.name}}</h2>\r\n\r\n\t\t\t\t<div class=\"card user-profile\">\r\n\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-xs-3\">\r\n\t\t\t\t\t\t\tUsername\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-xs-6\">\r\n\t\t\t\t\t\t\t{{user.name}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-xs-3 text-right\">\r\n\t\t\t\t\t\t\t<label class=\"btn btn-fix\" :class=\"{'btn-default': isMe, 'btn-danger': !isMe}\" role=\"button\" @click=\"changeUsername()\"><i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i></label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr>\r\n\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-xs-3\">\r\n\t\t\t\t\t\t\tAvatar\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-xs-6\">\r\n\t\t\t\t\t\t\t<div v-if=\"uploadingAvatar\">\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-circle-o-notch fa-spin fa-2x fa-fw\"></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div v-else>\r\n\t\t\t\t\t\t\t\t<img v-if=\"user.avatar\" class=\"img-circle\" :src=\"user.avatar\" width=\"35\" height=\"35\"> \r\n\t\t\t\t\t\t\t\t<img v-else class=\"img-circle\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\" width=\"35\" height=\"35\"> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-xs-3 text-right\">\r\n\t\t\t\t\t\t\t<label for=\"avatar-upload-input\" class=\"btn btn-fix\" :class=\"{'btn-default': isMe, 'btn-danger': !isMe}\" role=\"button\">\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-cloud-upload\"></i>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input id=\"avatar-upload-input\" class=\"hidden\" type=\"file\" @change=\"uploadAvatar()\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-if=\"avatarUploadError\" class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t \t\t<div class=\"alert alert-danger\" style=\"margin-top:10px\">{{avatarUploadError}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr>\r\n\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-xs-3\">\r\n\t\t\t\t\t\t\tSign in with\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-xs-6\">\r\n\t\t\t\t\t\t\t{{user.authService|capitalize}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr>\r\n\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-xs-3\">\r\n\t\t\t\t\t\t\tActivated\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-xs-6\">\r\n\t\t\t\t\t\t\t{{user.createdAt|formatTime}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<hr v-if=\"auth.authenticated && auth.user.admin && !isMe\">\r\n\r\n\t\t\t\t\t<div v-if=\"auth.authenticated && auth.user.admin && !isMe\" class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-xs-3\">\r\n\t\t\t\t\t\t\tBlocked\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-xs-6\">\r\n\t\t\t\t\t\t\t<span v-if=\"user.blocked\" class=\"text-danger\">Yes</span>\r\n\t\t\t\t\t\t\t<span v-else class=\"text-success\">No</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-xs-3 text-right\">\r\n\t\t\t\t\t\t\t<button v-if=\"user.blocked\" class=\"btn btn-danger btn-fix\" @click=\"setBlocked(false)\"><i class=\"fa fa-unlock-alt\" aria-hidden=\"true\"></i></button>\r\n\t\t\t\t\t\t\t<button v-else class=\"btn btn-danger btn-fix\" @click=\"setBlocked(true)\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t`,\r\n\r\n\tprops: [\"config\", \"auth\"],\r\n\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tuser: {},\r\n\t\t\tuserReady: false,\r\n\t\t\terror: false,\r\n\t\t\tuploadingAvatar: false,\r\n\t\t\tavatarUploadError: \"\",\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tdataReady: function() {\r\n\t\t\treturn this.userReady\r\n\t\t},\r\n\r\n\t\tuserId: function() {\r\n\t\t\tif (!this.auth.authenticated) {\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\r\n\t\t\tvar userId = parseInt(this.$route.params.user)\r\n\t\t\tif (!userId) {\r\n\t\t\t\treturn this.auth.user.id\r\n\t\t\t}\r\n\r\n\t\t\treturn userId\r\n\t\t},\r\n\r\n\t\tisMe: function() {\r\n\t\t\tif (!this.auth.authenticated) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn this.userId === this.auth.user.id\r\n\t\t}\r\n\t},\r\n\r\n\twatch: {\r\n\t\tuserId: function(val) {\r\n\t\t\tthis.load()\r\n\t\t}\r\n\t},\r\n\r\n\tcreated: function() {\r\n\t\tthis.load()\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tload: function() {\r\n\t\t\tthis.user = {}\r\n\t\t\tthis.userReady = false\r\n\t\t\tthis.error = false\r\n\t\t\tthis.uploadingAvatar = false\r\n\t\t\tthis.avatarUploadError = \"\"\r\n\t\t\tthis.getUser()\r\n\t\t},\r\n\r\n\t\tgetUser: function() {\r\n\t\t\tif (!this.auth.authenticated) {\r\n\t\t\t\tthis.$parent.$router.replace(\"/\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.auth.user.admin && this.auth.user.id !== this.userId) {\r\n\t\t\t\tthis.$parent.$router.replace(\"/me\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tvar url = \"api/v1/me\"\r\n\t\t\tif (this.auth.user.id !== this.userId) {\r\n\t\t\t\turl = \"api/v1/users/\" + this.userId\r\n\t\t\t}\r\n\r\n\t\t\tthis.$http.get(url).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.user = response.body.user\r\n\t\t\t\t\tthis.userReady = true\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tconsole.log(\"ERROR: getUser: \" + JSON.stringify(response.body))\r\n\t\t\t\t\tthis.error = true\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t},\r\n\r\n\t\tchangeUsername: function() {\r\n\t\t\tif (!this.userReady) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.$parent.$refs.usernameModal.show(\r\n\t\t\t\tthis.userId,\r\n\t\t\t\tthis.user.name,\r\n\t\t\t\t(success) => {\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tif (this.isMe) {\r\n\t\t\t\t\t\t\tthis.$parent.getMe()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.load()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t},\r\n\t\t\r\n\t\tuploadAvatar: function() {\r\n\t\t\tvar input = document.getElementById('avatar-upload-input')\r\n\t\t\tvar file = input.files[0]\r\n\t\t\tinput.value = \"\"\r\n\t\t\tvar reader = new FileReader()\r\n\t\t\treader.onload = () => {\r\n\t\t\t\tvar parts = reader.result.split(\";base64,\")\r\n\t\t\t\tvar imageData = \"\"\r\n\t\t\t\tif (parts.length == 2) {\r\n\t\t\t\t\timageData = parts[1]\r\n\t\t\t\t}\r\n\t\t\t\tthis.putUserAvatar(imageData)\r\n\t\t\t}\r\n\t\t\treader.readAsDataURL(file)\r\n\t\t},\r\n\r\n\t\tputUserAvatar: function(imageData) {\r\n\t\t\tif (!this.userReady) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.uploadingAvatar = true\r\n\t\t\tthis.avatarUploadError = \"\"\r\n\t\t\tthis.$http.put(\r\n\t\t\t\t'api/v1/users/' + this.userId + '/avatar',\r\n\t\t\t\t{ avatar: imageData }\t\t\t\t\r\n\t\t\t).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tif (this.isMe) {\r\n\t\t\t\t\t\tthis.$parent.getMe()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.uploadingAvatar = false\r\n\t\t\t\t\tthis.load()\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tconsole.log(\"ERROR: putUserAvatar: \" + JSON.stringify(response.body))\r\n\t\t\t\t\tthis.uploadingAvatar = false\r\n\t\t\t\t\tvar error = \"Sorry, could not upload that image. An error occured.\"\r\n\t\t\t\t\tif (response.body.error && response.body.error.code == \"BadRequest\") {\r\n\t\t\t\t\t\terror = \"Sorry, could not upload that image. \"\r\n\t\t\t\t\t\terror += \"Please choose an image from 50x50 to 2000x2000 pixels in size. \"\r\n\t\t\t\t\t\terror += \"The supported formats are JPEG, PNG, GIF, TIFF, BMP. \"\r\n\t\t\t\t\t\terror += \"The maximum file size is 5MB.\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.avatarUploadError = error\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tsetBlocked(val) {\r\n\t\t\taction = val ? \"block\" : \"unblock\"\r\n\t\t\tif (!confirm(\"Are you sure you want to \" + action + \" this user?\")) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.$http.put(\r\n\t\t\t\t'api/v1/users/' + this.userId + '/blocked',\r\n\t\t\t\t{ blocked: val }\r\n\t\t\t).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.load()\r\n\t\t\t\t},\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tconsole.log(\"ERROR: setBlocked: \" + JSON.stringify(response.body))\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n\r\n})")},
	"/frontend/js/bebop-username-modal.js": &fileData{name: "bebop-username-modal.js", mtime: 1493841991, size: 2848, body: []byte("var BebopUsernameModal = Vue.component('bebop-username-modal', {\r\n\r\n\ttemplate: `\r\n\t\t<div class=\"modal fade\" id=\"username-modal\" tabindex=\"-1\" role=\"dialog\" data-backdrop=\"static\">\r\n\t\t\t<div class=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t<div class=\"modal-content\">\r\n\t\t\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t\t\t<h2 class=\"modal-title\">Username</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t\t<div style=\"margin-bottom: 15px;\">\r\n\t\t\t\t\t\t\tPlease choose a username that is between 3 and 20 characters in length and containing only \r\n\t\t\t\t\t\t\talphanumeric characters (letters A-Z, numbers 0-9), hyphens, and underscores.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t<label for=\"user-name\" class=\"form-control-label\">Username:</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"username-modal-input\" v-model=\"name\" @change=\"hideErrorMessage\" @keyup=\"hideErrorMessage\" @keyup.13=\"send\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"username-modal-error\" class=\"alert alert-danger\" :class=\"{hidden: errorMessage==''}\" role=\"alert\" style=\"cursor:pointer\" @click=\"hideErrorMessage\">\r\n\t\t\t\t\t\t\t{{errorMessage}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" id=\"username-modal-ok\" @click=\"send\">OK</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tuserId: 0,\r\n\t\t\tsuccess: false,\r\n\t\t\tcallback: function(){},\r\n\t\t\tname: \"\",\r\n\t\t\terrorMessage: \"\",\r\n\t\t}\r\n\t},\r\n\r\n\tmounted: function() {\r\n\t\t$('#username-modal').on('hidden.bs.modal', () => {\r\n\t\t\tthis.callback(this.success)\r\n\t\t})\r\n\t\t$('#username-modal').on('shown.bs.modal', () => {\r\n\t\t\t$('#username-modal-input')[0].focus()\r\n\t\t})\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tshow: function(userId, initialName, callback) {\r\n\t\t\tthis.userId = userId\r\n\t\t\tthis.success = false\r\n\t\t\tthis.callback = callback\r\n\t\t\tthis.errorMessage = \"\"\r\n\t\t\tthis.name = initialName\r\n\t\t\t$('#username-modal').modal('show')\r\n\t\t},\r\n\r\n\t\tsend: function() {\t\t\t\r\n\t\t\tthis.$http.put(\r\n\t\t\t\t'api/v1/users/' + this.userId + '/name',\r\n\t\t\t\t{name: this.name}\r\n\t\t\t).then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tthis.success = true\r\n\t\t\t\t\t$('#username-modal').modal('hide')\r\n\t\t\t\t}, \r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tif (response.data.error && response.data.error.code == \"UnavailableUserName\") {\r\n\t\t\t\t\t\tthis.showErrorMessage(\"Sorry, that username is taken.\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (response.data.error && response.data.error.code == \"InvalidUserName\") {\r\n\t\t\t\t\t\tthis.showErrorMessage(\"Invalid username.\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.showErrorMessage(\"An error occured.\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$('#username-modal-input')[0].focus()\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tshowErrorMessage: function(message) {\r\n\t\t\tthis.errorMessage = message\r\n\t\t},\r\n\r\n\t\thideErrorMessage: function() {\r\n\t\t\tthis.errorMessage = ''\r\n\t\t}\r\n\t}\r\n\r\n})")},
}
